{"version":3,"file":"vue.js","sources":["../src/observe/array.js","../src/observe/dep.js","../src/observe/index.js","../src/state.js","../src/compiler/parse.js","../src/compiler/index.js","../src/observe/watcher.js","../src/vdom/index.js","../src/lifecycle.js","../src/init.js","../src/index.js"],"sourcesContent":["// 我们希望重写数组中的部分方法\r\nlet oldArrayProto = Array.prototype;//获取数组的原型\r\n\r\nexport let newArrayProto = Object.create(oldArrayProto)\r\n\r\nlet methods = [//找到所有的变异方法\r\n  'push',\r\n  'pop',\r\n  'shift',\r\n  'unshift',\r\n  'reverse',\r\n  'sort',\r\n  'splice'\r\n]\r\n//concat slice 都不会改变原数组\r\n\r\n\r\nmethods.forEach(method => {\r\n  newArrayProto[method] = function (...args) {//这里重写了数组的方法\r\n    let result = oldArrayProto[method].call(this, ...args)//内部调用原来的方法，函数的劫持，切片编程\r\n\r\n    let inserted;\r\n    let ob = this.__ob__;\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift':\r\n        inserted = args\r\n        break;\r\n      case 'splice':\r\n        inserted = args.splice(2)\r\n        break\r\n    }\r\n    if (inserted) {\r\n      ob.observeArray(inserted)\r\n    }\r\n    return result\r\n  }\r\n})\r\n","\r\nlet id = 0\r\nclass Dep {\r\n  constructor() {\r\n    this.id = id++;\r\n    this.subs = [] //这里存放着当前属性对应的watcher有哪些\r\n  }\r\n  depend() {\r\n    Dep.target.addDep(this)\r\n    // 这里我们不希望放重复的watcher，而且刚才只是一个单向的关系\r\n    this.subs.push(Dep.target)\r\n\r\n  }\r\n}\r\n\r\nDep.target = null\r\nexport default Dep\r\n","\r\nimport { newArrayProto } from './array'\r\nimport Dep from './dep'\r\nclass Observe {\r\n  constructor(data) {\r\n    Object.defineProperty(data, '__ob__', {\r\n      value: this,\r\n      enumerable: false\r\n    })\r\n    //给数据加了一个标识，如果数据上有__ob__，则说明这个属性被观测过\r\n    //Object.defineProperty只能劫持已经存在的属性，后增的，或者删除的不知道\r\n    if (Array.isArray(data)) {\r\n      //这里我们可以重写数组中的方法，7个变异方法,是可以修改数组本身的\r\n      data.__proto__ = newArrayProto\r\n      this.observeArray(data)//如果数组中放的是对象，是可以监控到对象的变化\r\n    } else {\r\n      this.walk(data)// 对 data 进行遍历，劫持属性\r\n    }\r\n\r\n  }\r\n  walk(data) {\r\n    //重新定义属性\r\n    Object.keys(data).forEach(key => defineReactive(data, key, data[key]))\r\n  }\r\n  observeArray(data) {\r\n    data.forEach(item => observe(item))\r\n  }\r\n}\r\n\r\nexport function defineReactive(target, key, value) {\r\n  //闭包\r\n  observe(value)//对所有的对象都进行属性劫持\r\n  let dep = new Dep()//每个属性都有一个dep\r\n  Object.defineProperty(target, key, {\r\n    get() {//取值的时候会执行get\r\n      if (Dep.target) {\r\n        dep.depend() //让这个属性的收集器记住当前的watcher\r\n      }\r\n      return value\r\n    },\r\n    set(newValue) {//修改的时候会执行set\r\n      if (newValue === value) return\r\n      value = newValue\r\n      observe(newValue)\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function observe(data) {\r\n  if (typeof data !== 'object' || data === null) {\r\n    return  // 只对对象进行劫持\r\n  }\r\n  // 如果一个对象被劫持过了，就不需要再被劫持\r\n  // 而要判断一个对象是否被劫持过，可以增添一个实例，用实例来判断\r\n  // 这里先不加这段逻辑，后面章节会加\r\n  // if (data.__ob__ instanceof Observe) {\r\n  //   return data.__ob__\r\n  // }\r\n  return new Observe(data)\r\n}\r\n\r\n","import { observe } from './observe/index'\r\nexport function initState(vm) {\r\n  const opts = vm.$options;\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n}\r\n\r\nfunction proxy(vm, target, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get() {\r\n      return vm[target][key]\r\n    },\r\n    set(newValue) {\r\n      vm[target][key] = newValue\r\n    }\r\n  })\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data; // 这个data就是 new Vue时传入的data，可能是函数也可能是对象\r\n  data = typeof data === 'function' ? data.call(vm) : data// 如果是函数则执行函数拿到返回值\r\n\r\n  vm._data = data;\r\n  observe(data)\r\n\r\n  //将vm._data 用vm来代理就可以了\r\n  for (let key in data) {\r\n    proxy(vm, '_data', key)\r\n  }\r\n}\r\n","\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;   // aa-aa\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // aa:aa 命名空间字符串\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nexport function parseHTML(html) {\r\n  const ELEMETN_TYPE = 1;\r\n  const TEXT_TYPE = 3;\r\n  const stack = [] //用于存放元素的\r\n  let currentParent;//指向的是栈中的最后一个\r\n  let root;\r\n\r\n  //最终需要转化成一颗抽象语法树\r\n  function createASTElement(tag, attrs) {\r\n    return {\r\n      tag,\r\n      type: ELEMETN_TYPE,\r\n      children: [],\r\n      attrs,\r\n      parent: null\r\n    }\r\n  }\r\n\r\n  //利用栈型解构来构造一棵树\r\n  function start(tag, attrs) {\r\n    let node = createASTElement(tag, attrs) //创造一个ast节点\r\n    if (!root) {//看一下是否是空树\r\n      root = node//如果为空则当前是树的根节点\r\n    }\r\n    if (currentParent) {\r\n      node.parent = currentParent\r\n      currentParent.children.push(node)\r\n    }\r\n    stack.push(node)\r\n    currentParent = node  //currentParent为栈中的最后一个\r\n  }\r\n  function chars(text) {\r\n    text = text.replace(/\\s/g, '')\r\n    text && currentParent.children.push({\r\n      type: TEXT_TYPE,\r\n      text,\r\n      parent: currentParent\r\n    })\r\n  }\r\n  function end(tag) {\r\n    stack.pop() //弹出最后一个\r\n    currentParent = stack[stack.length - 1]\r\n  }\r\n  function advance(length) {\r\n    html = html.substring(length)\r\n  }\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen);\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1], //标签名\r\n        attrs: []\r\n      }\r\n      advance(start[0].length)\r\n      // 如果不是开始标签的结束就一直匹配下去\r\n      let attr, end;\r\n      while (!(end = html.match(startTagClose))) {\r\n        attr = html.match(attribute)\r\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] || true })\r\n        advance(attr[0].length)\r\n      }\r\n      if (end) {\r\n        advance(end[0].length)\r\n      }\r\n      return match\r\n    }\r\n    return false\r\n  }\r\n  while (html) {\r\n    //textEnd如果为0说明是一个开始标签或者结束标签\r\n    let textEnd = html.indexOf('<');\r\n    if (textEnd == 0) {\r\n      const startTagMatch = parseStartTag()\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n        continue\r\n      }\r\n      let endTagMatch = html.match(endTag)\r\n      if (endTagMatch) {\r\n        advance(endTagMatch[0].length)\r\n        end(endTagMatch[1])\r\n        continue\r\n      }\r\n    }\r\n    if (textEnd > 0) {\r\n      let text = html.substring(0, textEnd)//文本内容\r\n      if (text) {\r\n        chars(text)\r\n        advance(text.length)\r\n      }\r\n    }\r\n  }\r\n  return root\r\n}\r\n","import { parseHTML } from './parse'\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nfunction genProps(attrs) {\r\n  let str = ''\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i];\r\n    if (attr.name === 'style') {\r\n      let obj = {}\r\n      attr.value.split(';').forEach(item => {\r\n        let [key, value] = item.split(':')\r\n        obj[key] = value\r\n      })\r\n      attr.value = obj\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0, -1)}}`\r\n}\r\n\r\nfunction gen(node) {\r\n  if (node.type === 1) {\r\n    return codegen(node)\r\n  } else {\r\n    let text = node.text;\r\n    if (!defaultTagRE.test(text)) {\r\n      return `_v(${JSON.stringify(text)})`\r\n    } else {\r\n      let tokens = [];\r\n      let match;\r\n      defaultTagRE.lastIndex = 0;\r\n      let lastIndex = 0;\r\n      while (match = defaultTagRE.exec(text)) {\r\n        let index = match.index;\r\n        if (index > lastIndex) {\r\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)))\r\n        }\r\n        tokens.push(`_s(${match[1].trim()})`)\r\n        lastIndex = index + match[0].length\r\n      }\r\n      if (lastIndex < text.length) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n      }\r\n      return `_v(${tokens.join('+')})`\r\n    }\r\n  }\r\n}\r\n\r\nfunction genChildren(children) {\r\n\r\n  return children.map(child => gen(child)).join(',')\r\n}\r\n\r\nfunction codegen(ast) {\r\n  let children = genChildren(ast.children)\r\n  let code = `_c('${ast.tag}',${ast.attrs.length > 0 ? genProps(ast.attrs) : 'null'}${ast.children.length ? `,${children}` : ''})`\r\n  return code\r\n}\r\n\r\nexport function compileToFunction(template) {\r\n  //1.就是将template转化成ast语法树\r\n  let ast = parseHTML(template)\r\n  //2.生成render方法(render方法执行后的返回结果就是虚拟DOM)\r\n  let code = codegen(ast)\r\n  code = `with(this){return ${code}}`\r\n  let render = new Function(code)\r\n\r\n  return render\r\n}\r\n","import Dep from './dep'\r\n\r\nlet id = 0;\r\nclass Watcher {\r\n  constructor(vm, fn, options) {\r\n    this.id = id++\r\n    this.renderWatcher = options\r\n    this.getter = fn; //getter意味着调用这个函数可以发生取值操作\r\n    this.deps = []\r\n    this.get()\r\n  }\r\n  get() {\r\n    Dep.target = this; //静态属性就是只有一份\r\n    this.getter()\r\n    Dep.target = null\r\n\r\n  }\r\n}\r\n\r\n//需要给每个属性增加一个dep\r\n//一个组件中有多少个属性，(n个属性会对应一个视图) ，n个dep对应一个watcher\r\n//一个属性对应多个视图\r\nexport default Watcher\r\n","export function createElementVNode(vm, tag, data, ...children) {\n    if (data == null) {\n        data = {}\n    }\n    let key = data.key;\n    if (key) {\n        delete data.key\n    }\n\n    return vnode(vm, tag, key, data, children)\n}\n\nexport function createTextVNode(vm, text) {\n    return vnode(vm, undefined, undefined, undefined, undefined, text)\n}\n\n\n//ast一样吗?ast做的是语法层面的转化，他描述的是语法本身(可以描述js css html)\n//我们的虚拟dom是描述的dom元素，可以增加一些自定义属性(描述dom的)\nfunction vnode(vm, tag, key, props, children, text) {\n    return {\n        vm, tag, key, props, children, text\n    }\n}","\nimport Watcher from './observe/watcher';\nimport { createElementVNode, createTextVNode } from \"./vdom/index\";\n\nfunction createElm(vnode) {\n  let { tag, props, children, text } = vnode;\n  let data = props\n  if (typeof tag === 'string') {\n    vnode.el = document.createElement(tag)\n    patchProps(vnode.el, data)\n    children.forEach(child => {\n      vnode.el.appendChild(createElm(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n  return vnode.el\n}\n\nfunction patchProps(el, props) {\n  for (let key in props) {\n    if (key === 'style') {\n      for (let styleName in props.style) {\n        el.style[styleName] = props.style[styleName]\n      }\n    } else {\n      el.setAttribute(key, props[key])\n    }\n  }\n}\n\nfunction patch(oldVNode, vnode) {\n  const isRealElement = oldVNode.nodeType;\n  if (isRealElement) {\n    const elm = oldVNode; //获取真实元素\n    const parentElm = elm.parentNode; //拿到父元素\n    console.log(vnode)\n    let newElm = createElm(vnode)\n    parentElm.insertBefore(newElm, elm.nextSibling)\n    parentElm.removeChild(elm)\n    return newElm\n  }\n}\n\nexport function initLifeCycle(Vue) {\n  Vue.prototype._update = function (vnode) {\n    const el = this.$el;\n    this.$el = patch(el, vnode)\n  }\n  Vue.prototype._render = function () {\n    return this.$options.render.call(this)//通过ast语法转义后生成的render\n  }\n  Vue.prototype._s = function (value) {\n    if (typeof value !== 'object') return value\n    return JSON.stringify(value)\n  }\n  Vue.prototype._c = function () {\n    return createElementVNode(this, ...arguments)\n  }\n  Vue.prototype._v = function () {\n    return createTextVNode(this, ...arguments)\n  }\n}\n\n//vue核心流程  1.创造了响应式数据 2.模板转换成ast语法树\n//3.将ast语法树转换了render函数 4.后续每次数据更新可以只执行render函数 无需再次执行ast转化的流程\n\n//render函数会产生虚拟节点(使用响应式数据)\n//根据生成的虚拟节点创造真实的DOM\nexport function mountComponent(vm, el) {\n  vm.$el = el\n  //调用render方法产生虚拟节点\n  const updateComponent = () => {\n    vm._update(vm._render())\n  }\n\n  new Watcher(vm, updateComponent, true)\n\n  //根据虚拟DOM产生真实DOM\n\n  //插入到el元素中\n}\n","import { initState } from './state'\r\nimport { compileToFunction } from './compiler/index'\r\nimport { mountComponent } from './lifecycle'\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this;\r\n    vm.$options = options\r\n    initState(vm)\r\n    if (options.el) {\r\n      vm.$mount(options.el)\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function (el) {\r\n    const vm = this;\r\n    el = document.querySelector(el)\r\n    let opts = vm.$options;\r\n    if (!opts.render) {// 如果用户没有自己写 render 函数\r\n      let template\r\n      if (el) {\r\n        if (opts.template) {\r\n          template = opts.template //这里不考虑兼容性细节，直接用 outerHTML 获取整个元素字符串\r\n        } else {\r\n          template = el.outerHTML\r\n        }\r\n      }\r\n\r\n      if (template) {// 这里就拿到了用户传入的 template 或是 el 转化的 template 字符串\r\n        // 在这里对模板进行编译\r\n        const render = compileToFunction(template)\r\n        console.log(render)\r\n        opts.render = render\r\n      }\r\n    }\r\n    mountComponent(vm, el)//组件的挂在\r\n  }\r\n}\r\n\r\n\r\n","import { initMixin } from './init'\r\nimport { initLifeCycle } from './lifecycle'\r\n\r\nfunction Vue(options) {\r\n  this._init(options)\r\n}\r\n\r\n\r\n//通过方法传递 Vue，然后在方法中添加原型方法\r\ninitMixin(Vue)// 传递 Vue 的同时扩展了 _init 方法\r\ninitLifeCycle(Vue)\r\n\r\nexport default Vue\r\n"],"names":["oldArrayProto","Array","prototype","newArrayProto","Object","create","methods","forEach","method","_oldArrayProto$method","_len","arguments","length","args","_key","result","call","apply","concat","inserted","ob","__ob__","splice","observeArray","id","Dep","_classCallCheck","subs","_createClass","key","value","depend","target","addDep","push","Observe","data","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","item","observe","dep","get","set","newValue","_typeof","initState","vm","opts","$options","initData","proxy","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMETN_TYPE","TEXT_TYPE","stack","currentParent","root","createASTElement","tag","attrs","type","children","parent","start","node","chars","text","replace","end","pop","advance","substring","parseStartTag","match","tagName","attr","name","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","_loop","i","obj","split","_item$split","_item$split2","_slicedToArray","JSON","stringify","slice","gen","codegen","test","tokens","lastIndex","exec","index","trim","join","genChildren","map","child","ast","code","compileToFunction","template","render","Function","Watcher","fn","options","renderWatcher","getter","deps","createElementVNode","vnode","createTextVNode","undefined","props","createElm","el","document","createElement","patchProps","appendChild","createTextNode","styleName","style","setAttribute","patch","oldVNode","isRealElement","nodeType","elm","parentElm","parentNode","console","log","newElm","insertBefore","nextSibling","removeChild","initLifeCycle","Vue","_update","$el","_render","_s","_c","_v","mountComponent","updateComponent","initMixin","_init","$mount","querySelector","outerHTML"],"mappings":"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"}