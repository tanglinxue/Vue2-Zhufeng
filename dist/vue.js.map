{"version":3,"file":"vue.js","sources":["../src/observe/array.js","../src/observe/dep.js","../src/observe/index.js","../src/state.js","../src/compiler/parse.js","../src/compiler/index.js","../src/observe/watcher.js","../src/vdom/index.js","../src/lifecycle.js","../src/init.js","../src/index.js"],"sourcesContent":["// 我们希望重写数组中的部分方法\r\nlet oldArrayProto = Array.prototype;//获取数组的原型\r\n\r\nexport let newArrayProto = Object.create(oldArrayProto)\r\n\r\nlet methods = [//找到所有的变异方法\r\n  'push',\r\n  'pop',\r\n  'shift',\r\n  'unshift',\r\n  'reverse',\r\n  'sort',\r\n  'splice'\r\n]\r\n//concat slice 都不会改变原数组\r\n\r\n\r\nmethods.forEach(method => {\r\n  newArrayProto[method] = function (...args) {//这里重写了数组的方法\r\n    let result = oldArrayProto[method].call(this, ...args)//内部调用原来的方法，函数的劫持，切片编程\r\n\r\n    let inserted;\r\n    let ob = this.__ob__;\r\n    switch (method) {\r\n      case 'push':\r\n      case 'unshift':\r\n        inserted = args\r\n        break;\r\n      case 'splice':\r\n        inserted = args.splice(2)\r\n        break\r\n    }\r\n    if (inserted) {\r\n      ob.observeArray(inserted)\r\n    }\r\n    return result\r\n  }\r\n})\r\n","\r\nlet id = 0\r\nclass Dep {\r\n  constructor() {\r\n    this.id = id++;\r\n    this.subs = [] //这里存放着当前属性对应的watcher有哪些\r\n  }\r\n  depend() {\r\n    //让watcher记住dep\r\n    Dep.target.addDep(this)\r\n    // 这里我们不希望放重复的watcher，而且刚才只是一个单向的关系\r\n  }\r\n  addSub(watcher) {\r\n    this.subs.push(watcher)\r\n  }\r\n  notify() {\r\n    this.subs.forEach(watcher => watcher.update())\r\n  }\r\n}\r\n\r\nDep.target = null\r\nexport default Dep\r\n","\r\nimport { newArrayProto } from './array'\r\nimport Dep from './dep'\r\nclass Observe {\r\n  constructor(data) {\r\n    Object.defineProperty(data, '__ob__', {\r\n      value: this,\r\n      enumerable: false\r\n    })\r\n    //给数据加了一个标识，如果数据上有__ob__，则说明这个属性被观测过\r\n    //Object.defineProperty只能劫持已经存在的属性，后增的，或者删除的不知道\r\n    if (Array.isArray(data)) {\r\n      //这里我们可以重写数组中的方法，7个变异方法,是可以修改数组本身的\r\n      data.__proto__ = newArrayProto\r\n      this.observeArray(data)//如果数组中放的是对象，是可以监控到对象的变化\r\n    } else {\r\n      this.walk(data)// 对 data 进行遍历，劫持属性\r\n    }\r\n\r\n  }\r\n  walk(data) {\r\n    //重新定义属性\r\n    Object.keys(data).forEach(key => defineReactive(data, key, data[key]))\r\n  }\r\n  observeArray(data) {\r\n    data.forEach(item => observe(item))\r\n  }\r\n}\r\n\r\nexport function defineReactive(target, key, value) {\r\n  //闭包\r\n  observe(value)//对所有的对象都进行属性劫持\r\n  let dep = new Dep()//每个属性都有一个dep\r\n  Object.defineProperty(target, key, {\r\n    get() {//取值的时候会执行get\r\n      if (Dep.target) {\r\n        dep.depend() //让这个属性的收集器记住当前的watcher\r\n      }\r\n      return value\r\n    },\r\n    set(newValue) {//修改的时候会执行set\r\n      if (newValue === value) return\r\n      value = newValue\r\n      observe(newValue)\r\n      dep.notify()\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport function observe(data) {\r\n  if (typeof data !== 'object' || data === null) {\r\n    return  // 只对对象进行劫持\r\n  }\r\n  // 如果一个对象被劫持过了，就不需要再被劫持\r\n  // 而要判断一个对象是否被劫持过，可以增添一个实例，用实例来判断\r\n  // 这里先不加这段逻辑，后面章节会加\r\n  // if (data.__ob__ instanceof Observe) {\r\n  //   return data.__ob__\r\n  // }\r\n  return new Observe(data)\r\n}\r\n\r\n","import { observe } from './observe/index'\r\nexport function initState(vm) {\r\n  const opts = vm.$options;\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n}\r\n\r\nfunction proxy(vm, target, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get() {\r\n      return vm[target][key]\r\n    },\r\n    set(newValue) {\r\n      vm[target][key] = newValue\r\n    }\r\n  })\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data; // 这个data就是 new Vue时传入的data，可能是函数也可能是对象\r\n  data = typeof data === 'function' ? data.call(vm) : data// 如果是函数则执行函数拿到返回值\r\n\r\n  vm._data = data;\r\n  observe(data)\r\n\r\n  //将vm._data 用vm来代理就可以了\r\n  for (let key in data) {\r\n    proxy(vm, '_data', key)\r\n  }\r\n}\r\n","\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;   // aa-aa\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // aa:aa 命名空间字符串\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nexport function parseHTML(html) {\r\n  const ELEMETN_TYPE = 1;\r\n  const TEXT_TYPE = 3;\r\n  const stack = [] //用于存放元素的\r\n  let currentParent;//指向的是栈中的最后一个\r\n  let root;\r\n\r\n  //最终需要转化成一颗抽象语法树\r\n  function createASTElement(tag, attrs) {\r\n    return {\r\n      tag,\r\n      type: ELEMETN_TYPE,\r\n      children: [],\r\n      attrs,\r\n      parent: null\r\n    }\r\n  }\r\n\r\n  //利用栈型解构来构造一棵树\r\n  function start(tag, attrs) {\r\n    let node = createASTElement(tag, attrs) //创造一个ast节点\r\n    if (!root) {//看一下是否是空树\r\n      root = node//如果为空则当前是树的根节点\r\n    }\r\n    if (currentParent) {\r\n      node.parent = currentParent\r\n      currentParent.children.push(node)\r\n    }\r\n    stack.push(node)\r\n    currentParent = node  //currentParent为栈中的最后一个\r\n  }\r\n  function chars(text) {\r\n    text = text.replace(/\\s/g, '')\r\n    text && currentParent.children.push({\r\n      type: TEXT_TYPE,\r\n      text,\r\n      parent: currentParent\r\n    })\r\n  }\r\n  function end(tag) {\r\n    stack.pop() //弹出最后一个\r\n    currentParent = stack[stack.length - 1]\r\n  }\r\n  function advance(length) {\r\n    html = html.substring(length)\r\n  }\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen);\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1], //标签名\r\n        attrs: []\r\n      }\r\n      advance(start[0].length)\r\n      // 如果不是开始标签的结束就一直匹配下去\r\n      let attr, end;\r\n      while (!(end = html.match(startTagClose))) {\r\n        attr = html.match(attribute)\r\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] || true })\r\n        advance(attr[0].length)\r\n      }\r\n      if (end) {\r\n        advance(end[0].length)\r\n      }\r\n      return match\r\n    }\r\n    return false\r\n  }\r\n  while (html) {\r\n    //textEnd如果为0说明是一个开始标签或者结束标签\r\n    let textEnd = html.indexOf('<');\r\n    if (textEnd == 0) {\r\n      const startTagMatch = parseStartTag()\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs)\r\n        continue\r\n      }\r\n      let endTagMatch = html.match(endTag)\r\n      if (endTagMatch) {\r\n        advance(endTagMatch[0].length)\r\n        end(endTagMatch[1])\r\n        continue\r\n      }\r\n    }\r\n    if (textEnd > 0) {\r\n      let text = html.substring(0, textEnd)//文本内容\r\n      if (text) {\r\n        chars(text)\r\n        advance(text.length)\r\n      }\r\n    }\r\n  }\r\n  return root\r\n}\r\n","import { parseHTML } from './parse'\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\r\n\r\nfunction genProps(attrs) {\r\n  let str = ''\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i];\r\n    if (attr.name === 'style') {\r\n      let obj = {}\r\n      attr.value.split(';').forEach(item => {\r\n        let [key, value] = item.split(':')\r\n        obj[key] = value\r\n      })\r\n      attr.value = obj\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0, -1)}}`\r\n}\r\n\r\nfunction gen(node) {\r\n  if (node.type === 1) {\r\n    return codegen(node)\r\n  } else {\r\n    let text = node.text;\r\n    if (!defaultTagRE.test(text)) {\r\n      return `_v(${JSON.stringify(text)})`\r\n    } else {\r\n      let tokens = [];\r\n      let match;\r\n      defaultTagRE.lastIndex = 0;\r\n      let lastIndex = 0;\r\n      while (match = defaultTagRE.exec(text)) {\r\n        let index = match.index;\r\n        if (index > lastIndex) {\r\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)))\r\n        }\r\n        tokens.push(`_s(${match[1].trim()})`)\r\n        lastIndex = index + match[0].length\r\n      }\r\n      if (lastIndex < text.length) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n      }\r\n      return `_v(${tokens.join('+')})`\r\n    }\r\n  }\r\n}\r\n\r\nfunction genChildren(children) {\r\n\r\n  return children.map(child => gen(child)).join(',')\r\n}\r\n\r\nfunction codegen(ast) {\r\n  let children = genChildren(ast.children)\r\n  let code = `_c('${ast.tag}',${ast.attrs.length > 0 ? genProps(ast.attrs) : 'null'}${ast.children.length ? `,${children}` : ''})`\r\n  return code\r\n}\r\n\r\nexport function compileToFunction(template) {\r\n  //1.就是将template转化成ast语法树\r\n  let ast = parseHTML(template)\r\n  //2.生成render方法(render方法执行后的返回结果就是虚拟DOM)\r\n  let code = codegen(ast)\r\n  code = `with(this){return ${code}}`\r\n  let render = new Function(code)\r\n\r\n  return render\r\n}\r\n","import Dep from './dep'\r\n\r\nlet id = 0;\r\nclass Watcher {\r\n  constructor(vm, fn, options) {\r\n    this.id = id++\r\n    this.renderWatcher = options\r\n    this.getter = fn; //getter意味着调用这个函数可以发生取值操作\r\n    this.deps = []\r\n    this.depsId = new Set()\r\n    this.get()\r\n  }\r\n  get() {\r\n    Dep.target = this; //静态属性就是只有一份\r\n    this.getter()\r\n    Dep.target = null\r\n  }\r\n  addDep(dep) {\r\n    let id = dep.id;\r\n    if (!this.depsId.has(id)) {\r\n      this.deps.push(dep)\r\n      this.depsId.add(id)\r\n      dep.addSub(this) //watcher已经记住了dep了而且去重，此时让dep也记住watcher\r\n    }\r\n  }\r\n  update() {\r\n    queueWatcher(this)\r\n  }\r\n  run() {\r\n    console.log('run')\r\n    this.get()\r\n  }\r\n}\r\n\r\nlet queue = [];\r\nlet has = {};\r\nlet pending = false\r\n\r\nfunction flushSchedulerQueue() {\r\n  let flushQueue = queue.slice(0)\r\n  queue = [];\r\n  has = {};\r\n  pending = false\r\n  flushQueue.forEach(q => q.run())\r\n}\r\nfunction queueWatcher(watcher) {\r\n  const id = watcher.id;\r\n  if (!has[id]) {\r\n    queue.push(watcher)\r\n    has[id] = true\r\n    if (!pending) {\r\n      nextTick(flushSchedulerQueue, 0)\r\n      pending = true\r\n    }\r\n  }\r\n}\r\n\r\n\r\nlet callbacks = []\r\nlet waiting = false;\r\nfunction flushCallbacks() {\r\n  let cbs = callbacks.slice(0)\r\n  waiting = false;\r\n  callbacks = []\r\n  cbs.forEach(cb => cb())\r\n}\r\n\r\nlet timerFunc\r\nif (Promise) {\r\n  timerFunc = () => {\r\n    Promise.resolve().then(flushCallbacks)\r\n  }\r\n} else if (MutationObserver) {\r\n  let observer = new MutationObserver(flushCallbacks)\r\n  let textNode = document.createTextNode()\r\n  observer.observe(textNode, {\r\n    characterData: true\r\n  })\r\n  timerFunc = () => {\r\n    textNode.textContent = 2\r\n  }\r\n} else if (setImmediate) {\r\n  timerFunc = () => {\r\n    setImmediate(flushCallbacks)\r\n  }\r\n} else {\r\n  timerFunc = () => {\r\n    setTimeout(flushCallbacks)\r\n  }\r\n}\r\n\r\n\r\nexport function nextTick(cb) {\r\n  callbacks.push(cb)\r\n  if (!waiting) {\r\n    timerFunc()\r\n    waiting = true\r\n  }\r\n}\r\n//需要给每个属性增加一个dep\r\n//一个组件中有多少个属性，(n个属性会对应一个视图) ，n个dep对应一个watcher\r\n//一个属性对应多个视图\r\nexport default Watcher\r\n","export function createElementVNode(vm, tag, data, ...children) {\r\n    if (data == null) {\r\n        data = {}\r\n    }\r\n    let key = data.key;\r\n    if (key) {\r\n        delete data.key\r\n    }\r\n\r\n    return vnode(vm, tag, key, data, children)\r\n}\r\n\r\nexport function createTextVNode(vm, text) {\r\n    return vnode(vm, undefined, undefined, undefined, undefined, text)\r\n}\r\n\r\n\r\n//ast一样吗?ast做的是语法层面的转化，他描述的是语法本身(可以描述js css html)\r\n//我们的虚拟dom是描述的dom元素，可以增加一些自定义属性(描述dom的)\r\nfunction vnode(vm, tag, key, props, children, text) {\r\n    return {\r\n        vm, tag, key, props, children, text\r\n    }\r\n}","\r\nimport Watcher from './observe/watcher';\r\nimport { createElementVNode, createTextVNode } from \"./vdom/index\";\r\n\r\nfunction createElm(vnode) {\r\n  let { tag, props, children, text } = vnode;\r\n  let data = props\r\n  if (typeof tag === 'string') {\r\n    vnode.el = document.createElement(tag)\r\n    patchProps(vnode.el, data)\r\n    children.forEach(child => {\r\n      vnode.el.appendChild(createElm(child))\r\n    })\r\n  } else {\r\n    vnode.el = document.createTextNode(text)\r\n  }\r\n  return vnode.el\r\n}\r\n\r\nfunction patchProps(el, props) {\r\n  for (let key in props) {\r\n    if (key === 'style') {\r\n      for (let styleName in props.style) {\r\n        el.style[styleName] = props.style[styleName]\r\n      }\r\n    } else {\r\n      el.setAttribute(key, props[key])\r\n    }\r\n  }\r\n}\r\n\r\nfunction patch(oldVNode, vnode) {\r\n  const isRealElement = oldVNode.nodeType;\r\n  if (isRealElement) {\r\n    const elm = oldVNode; //获取真实元素\r\n    const parentElm = elm.parentNode; //拿到父元素\r\n    let newElm = createElm(vnode)\r\n    parentElm.insertBefore(newElm, elm.nextSibling)\r\n    parentElm.removeChild(elm)\r\n    return newElm\r\n  }\r\n}\r\n\r\nexport function initLifeCycle(Vue) {\r\n  Vue.prototype._update = function (vnode) {\r\n    const el = this.$el;\r\n    this.$el = patch(el, vnode)\r\n  }\r\n  Vue.prototype._render = function () {\r\n    return this.$options.render.call(this)//通过ast语法转义后生成的render\r\n  }\r\n  Vue.prototype._s = function (value) {\r\n    if (typeof value !== 'object') return value\r\n    return JSON.stringify(value)\r\n  }\r\n  Vue.prototype._c = function () {\r\n    return createElementVNode(this, ...arguments)\r\n  }\r\n  Vue.prototype._v = function () {\r\n    return createTextVNode(this, ...arguments)\r\n  }\r\n}\r\n\r\n//vue核心流程  1.创造了响应式数据 2.模板转换成ast语法树\r\n//3.将ast语法树转换了render函数 4.后续每次数据更新可以只执行render函数 无需再次执行ast转化的流程\r\n\r\n//render函数会产生虚拟节点(使用响应式数据)\r\n//根据生成的虚拟节点创造真实的DOM\r\nexport function mountComponent(vm, el) {\r\n  vm.$el = el\r\n  //调用render方法产生虚拟节点\r\n  const updateComponent = () => {\r\n    vm._update(vm._render())\r\n  }\r\n\r\n  const watcher = new Watcher(vm, updateComponent, true)\r\n  console.log(watcher)\r\n  //根据虚拟DOM产生真实DOM\r\n\r\n  //插入到el元素中\r\n}\r\n","import { initState } from './state'\r\nimport { compileToFunction } from './compiler/index'\r\nimport { mountComponent } from './lifecycle'\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this;\r\n    vm.$options = options\r\n    initState(vm)\r\n    if (options.el) {\r\n      vm.$mount(options.el)\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function (el) {\r\n    const vm = this;\r\n    el = document.querySelector(el)\r\n    let opts = vm.$options;\r\n    if (!opts.render) {// 如果用户没有自己写 render 函数\r\n      let template\r\n      if (el) {\r\n        if (opts.template) {\r\n          template = opts.template //这里不考虑兼容性细节，直接用 outerHTML 获取整个元素字符串\r\n        } else {\r\n          template = el.outerHTML\r\n        }\r\n      }\r\n\r\n      if (template) {// 这里就拿到了用户传入的 template 或是 el 转化的 template 字符串\r\n        // 在这里对模板进行编译\r\n        const render = compileToFunction(template)\r\n        opts.render = render\r\n      }\r\n    }\r\n    mountComponent(vm, el)//组件的挂在\r\n  }\r\n}\r\n\r\n\r\n","import { initMixin } from './init'\r\nimport { initLifeCycle } from './lifecycle'\r\nimport { nextTick } from './observe/watcher'\r\n\r\nfunction Vue(options) {\r\n  this._init(options)\r\n}\r\n\r\n\r\nVue.prototype.$nextTick = nextTick\r\n//通过方法传递 Vue，然后在方法中添加原型方法\r\ninitMixin(Vue)// 传递 Vue 的同时扩展了 _init 方法\r\ninitLifeCycle(Vue)\r\n\r\nexport default Vue\r\n"],"names":["oldArrayProto","Array","prototype","newArrayProto","Object","create","methods","forEach","method","_oldArrayProto$method","_len","arguments","length","args","_key","result","call","apply","concat","inserted","ob","__ob__","splice","observeArray","id","Dep","_classCallCheck","subs","_createClass","key","value","depend","target","addDep","addSub","watcher","push","notify","update","Observe","data","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","item","observe","dep","get","set","newValue","_typeof","initState","vm","opts","$options","initData","proxy","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMETN_TYPE","TEXT_TYPE","stack","currentParent","root","createASTElement","tag","attrs","type","children","parent","start","node","chars","text","replace","end","pop","advance","substring","parseStartTag","match","tagName","attr","name","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","_loop","i","obj","split","_item$split","_item$split2","_slicedToArray","JSON","stringify","slice","gen","codegen","test","tokens","lastIndex","exec","index","trim","join","genChildren","map","child","ast","code","compileToFunction","template","render","Function","Watcher","fn","options","renderWatcher","getter","deps","depsId","Set","has","add","queueWatcher","run","console","log","queue","pending","flushSchedulerQueue","flushQueue","q","nextTick","callbacks","waiting","flushCallbacks","cbs","cb","timerFunc","Promise","resolve","then","MutationObserver","observer","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","createElementVNode","vnode","createTextVNode","undefined","props","createElm","el","createElement","patchProps","appendChild","styleName","style","setAttribute","patch","oldVNode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibling","removeChild","initLifeCycle","Vue","_update","$el","_render","_s","_c","_v","mountComponent","updateComponent","initMixin","_init","$mount","querySelector","outerHTML","$nextTick"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACA,IAAIA,aAAa,GAAGC,KAAK,CAACC,SAAS,CAAC;;EAE7B,IAAIC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAACL,aAAa,CAAC,CAAA;EAEvD,IAAIM,OAAO,GAAG;EAAC;EACb,MAAM,EACN,KAAK,EACL,OAAO,EACP,SAAS,EACT,SAAS,EACT,MAAM,EACN,QAAQ,CACT,CAAA;EACD;;EAGAA,OAAO,CAACC,OAAO,CAAC,UAAAC,MAAM,EAAI;EACxBL,EAAAA,aAAa,CAACK,MAAM,CAAC,GAAG,YAAmB;EAAA,IAAA,IAAAC,qBAAA,CAAA;EAAA,IAAA,KAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAANC,IAAI,GAAAZ,IAAAA,KAAA,CAAAS,IAAA,GAAAI,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA,EAAA,EAAA;EAAJD,MAAAA,IAAI,CAAAC,IAAA,CAAAH,GAAAA,SAAA,CAAAG,IAAA,CAAA,CAAA;EAAA,KAAA;EAAG;MAC1C,IAAIC,MAAM,GAAG,CAAAN,qBAAA,GAAAT,aAAa,CAACQ,MAAM,CAAC,EAACQ,IAAI,CAAAC,KAAA,CAAAR,qBAAA,EAAA,CAAC,IAAI,CAAAS,CAAAA,MAAA,CAAKL,IAAI,CAAC,CAAA,CAAA;;EAEtD,IAAA,IAAIM,QAAQ,CAAA;EACZ,IAAA,IAAIC,EAAE,GAAG,IAAI,CAACC,MAAM,CAAA;EACpB,IAAA,QAAQb,MAAM;EACZ,MAAA,KAAK,MAAM,CAAA;EACX,MAAA,KAAK,SAAS;EACZW,QAAAA,QAAQ,GAAGN,IAAI,CAAA;EACf,QAAA,MAAA;EACF,MAAA,KAAK,QAAQ;EACXM,QAAAA,QAAQ,GAAGN,IAAI,CAACS,MAAM,CAAC,CAAC,CAAC,CAAA;EACzB,QAAA,MAAA;EACJ,KAAA;EACA,IAAA,IAAIH,QAAQ,EAAE;EACZC,MAAAA,EAAE,CAACG,YAAY,CAACJ,QAAQ,CAAC,CAAA;EAC3B,KAAA;EACA,IAAA,OAAOJ,MAAM,CAAA;KACd,CAAA;EACH,CAAC,CAAC;;ECpCF,IAAIS,IAAE,GAAG,CAAC,CAAA;EAAA,IACJC,GAAG,gBAAA,YAAA;EACP,EAAA,SAAAA,MAAc;EAAAC,IAAAA,eAAA,OAAAD,GAAA,CAAA,CAAA;EACZ,IAAA,IAAI,CAACD,EAAE,GAAGA,IAAE,EAAE,CAAA;EACd,IAAA,IAAI,CAACG,IAAI,GAAG,EAAE,CAAC;EACjB,GAAA;EAACC,EAAAA,YAAA,CAAAH,GAAA,EAAA,CAAA;MAAAI,GAAA,EAAA,QAAA;MAAAC,KAAA,EACD,SAAAC,MAAAA,GAAS;EACP;EACAN,MAAAA,GAAG,CAACO,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC,CAAA;EACvB;EACF,KAAA;EAAC,GAAA,EAAA;MAAAJ,GAAA,EAAA,QAAA;EAAAC,IAAAA,KAAA,EACD,SAAAI,MAAOC,CAAAA,OAAO,EAAE;EACd,MAAA,IAAI,CAACR,IAAI,CAACS,IAAI,CAACD,OAAO,CAAC,CAAA;EACzB,KAAA;EAAC,GAAA,EAAA;MAAAN,GAAA,EAAA,QAAA;MAAAC,KAAA,EACD,SAAAO,MAAAA,GAAS;EACP,MAAA,IAAI,CAACV,IAAI,CAACpB,OAAO,CAAC,UAAA4B,OAAO,EAAA;EAAA,QAAA,OAAIA,OAAO,CAACG,MAAM,EAAE,CAAA;SAAC,CAAA,CAAA;EAChD,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAb,GAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAGHA,GAAG,CAACO,MAAM,GAAG,IAAI;;EClBM,IACjBO,OAAO,gBAAA,YAAA;IACX,SAAAA,OAAAA,CAAYC,IAAI,EAAE;EAAAd,IAAAA,eAAA,OAAAa,OAAA,CAAA,CAAA;EAChBnC,IAAAA,MAAM,CAACqC,cAAc,CAACD,IAAI,EAAE,QAAQ,EAAE;EACpCV,MAAAA,KAAK,EAAE,IAAI;EACXY,MAAAA,UAAU,EAAE,KAAA;EACd,KAAC,CAAC,CAAA;EACF;EACA;EACA,IAAA,IAAIzC,KAAK,CAAC0C,OAAO,CAACH,IAAI,CAAC,EAAE;EACvB;QACAA,IAAI,CAACI,SAAS,GAAGzC,aAAa,CAAA;EAC9B,MAAA,IAAI,CAACoB,YAAY,CAACiB,IAAI,CAAC,CAAA;EACzB,KAAC,MAAM;EACL,MAAA,IAAI,CAACK,IAAI,CAACL,IAAI,CAAC,CAAA;EACjB,KAAA;EAEF,GAAA;EAACZ,EAAAA,YAAA,CAAAW,OAAA,EAAA,CAAA;MAAAV,GAAA,EAAA,MAAA;EAAAC,IAAAA,KAAA,EACD,SAAAe,IAAKL,CAAAA,IAAI,EAAE;EACT;QACApC,MAAM,CAAC0C,IAAI,CAACN,IAAI,CAAC,CAACjC,OAAO,CAAC,UAAAsB,GAAG,EAAA;UAAA,OAAIkB,cAAc,CAACP,IAAI,EAAEX,GAAG,EAAEW,IAAI,CAACX,GAAG,CAAC,CAAC,CAAA;SAAC,CAAA,CAAA;EACxE,KAAA;EAAC,GAAA,EAAA;MAAAA,GAAA,EAAA,cAAA;EAAAC,IAAAA,KAAA,EACD,SAAAP,YAAaiB,CAAAA,IAAI,EAAE;EACjBA,MAAAA,IAAI,CAACjC,OAAO,CAAC,UAAAyC,IAAI,EAAA;UAAA,OAAIC,OAAO,CAACD,IAAI,CAAC,CAAA;SAAC,CAAA,CAAA;EACrC,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAT,OAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAGI,SAASQ,cAAcA,CAACf,MAAM,EAAEH,GAAG,EAAEC,KAAK,EAAE;EACjD;IACAmB,OAAO,CAACnB,KAAK,CAAC,CAAA;EACd,EAAA,IAAIoB,GAAG,GAAG,IAAIzB,GAAG,EAAE,CAAA;EACnBrB,EAAAA,MAAM,CAACqC,cAAc,CAACT,MAAM,EAAEH,GAAG,EAAE;MACjCsB,GAAG,EAAA,SAAAA,MAAG;EAAC;QACL,IAAI1B,GAAG,CAACO,MAAM,EAAE;EACdkB,QAAAA,GAAG,CAACnB,MAAM,EAAE,CAAC;EACf,OAAA;;EACA,MAAA,OAAOD,KAAK,CAAA;OACb;MACDsB,GAAG,EAAA,SAAAA,GAACC,CAAAA,QAAQ,EAAE;EAAC;QACb,IAAIA,QAAQ,KAAKvB,KAAK,EAAE,OAAA;EACxBA,MAAAA,KAAK,GAAGuB,QAAQ,CAAA;QAChBJ,OAAO,CAACI,QAAQ,CAAC,CAAA;QACjBH,GAAG,CAACb,MAAM,EAAE,CAAA;EACd,KAAA;EACF,GAAC,CAAC,CAAA;EACJ,CAAA;EAGO,SAASY,OAAOA,CAACT,IAAI,EAAE;IAC5B,IAAIc,OAAA,CAAOd,IAAI,CAAA,KAAK,QAAQ,IAAIA,IAAI,KAAK,IAAI,EAAE;EAC7C,IAAA,OAAM;EACR,GAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAA,OAAO,IAAID,OAAO,CAACC,IAAI,CAAC,CAAA;EAC1B;;EC5DO,SAASe,SAASA,CAACC,EAAE,EAAE;EAC5B,EAAA,IAAMC,IAAI,GAAGD,EAAE,CAACE,QAAQ,CAAA;IACxB,IAAID,IAAI,CAACjB,IAAI,EAAE;MACbmB,QAAQ,CAACH,EAAE,CAAC,CAAA;EACd,GAAA;EACF,CAAA;EAEA,SAASI,KAAKA,CAACJ,EAAE,EAAExB,MAAM,EAAEH,GAAG,EAAE;EAC9BzB,EAAAA,MAAM,CAACqC,cAAc,CAACe,EAAE,EAAE3B,GAAG,EAAE;MAC7BsB,GAAG,EAAA,SAAAA,MAAG;EACJ,MAAA,OAAOK,EAAE,CAACxB,MAAM,CAAC,CAACH,GAAG,CAAC,CAAA;OACvB;MACDuB,GAAG,EAAA,SAAAA,GAACC,CAAAA,QAAQ,EAAE;EACZG,MAAAA,EAAE,CAACxB,MAAM,CAAC,CAACH,GAAG,CAAC,GAAGwB,QAAQ,CAAA;EAC5B,KAAA;EACF,GAAC,CAAC,CAAA;EACJ,CAAA;EAEA,SAASM,QAAQA,CAACH,EAAE,EAAE;IACpB,IAAIhB,IAAI,GAAGgB,EAAE,CAACE,QAAQ,CAAClB,IAAI,CAAC;EAC5BA,EAAAA,IAAI,GAAG,OAAOA,IAAI,KAAK,UAAU,GAAGA,IAAI,CAACxB,IAAI,CAACwC,EAAE,CAAC,GAAGhB,IAAI,CAAA;;IAExDgB,EAAE,CAACK,KAAK,GAAGrB,IAAI,CAAA;IACfS,OAAO,CAACT,IAAI,CAAC,CAAA;;EAEb;EACA,EAAA,KAAK,IAAIX,GAAG,IAAIW,IAAI,EAAE;EACpBoB,IAAAA,KAAK,CAACJ,EAAE,EAAE,OAAO,EAAE3B,GAAG,CAAC,CAAA;EACzB,GAAA;EACF;;EC7BA,IAAMiC,MAAM,GAAiC,8BAAA,CAAC;EAC9C,IAAMC,YAAY,GAAA7C,MAAAA,CAAAA,MAAA,CAAU4C,MAAM,EAAA5C,OAAAA,CAAAA,CAAAA,MAAA,CAAQ4C,MAAM,EAAG,GAAA,CAAA,CAAC;EACpD,IAAME,YAAY,GAAG,IAAIC,MAAM,CAAA,IAAA,CAAA/C,MAAA,CAAM6C,YAAY,CAAE,CAAC,CAAC;EACrD,IAAMG,MAAM,GAAG,IAAID,MAAM,CAAA,OAAA,CAAA/C,MAAA,CAAS6C,YAAY,EAAA,QAAA,CAAQ,CAAC,CAAC;EACxD,IAAMI,SAAS,GAAG,2EAA2E,CAAC;EAC9F,IAAMC,aAAa,GAAG,YAAY,CAAC;EAG5B,SAASC,SAASA,CAACC,IAAI,EAAE;IAC9B,IAAMC,YAAY,GAAG,CAAC,CAAA;IACtB,IAAMC,SAAS,GAAG,CAAC,CAAA;IACnB,IAAMC,KAAK,GAAG,EAAE,CAAC;EACjB,EAAA,IAAIC,aAAa,CAAC;EAClB,EAAA,IAAIC,IAAI,CAAA;;EAER;EACA,EAAA,SAASC,gBAAgBA,CAACC,GAAG,EAAEC,KAAK,EAAE;MACpC,OAAO;EACLD,MAAAA,GAAG,EAAHA,GAAG;EACHE,MAAAA,IAAI,EAAER,YAAY;EAClBS,MAAAA,QAAQ,EAAE,EAAE;EACZF,MAAAA,KAAK,EAALA,KAAK;EACLG,MAAAA,MAAM,EAAE,IAAA;OACT,CAAA;EACH,GAAA;;EAEA;EACA,EAAA,SAASC,KAAKA,CAACL,GAAG,EAAEC,KAAK,EAAE;MACzB,IAAIK,IAAI,GAAGP,gBAAgB,CAACC,GAAG,EAAEC,KAAK,CAAC,CAAC;MACxC,IAAI,CAACH,IAAI,EAAE;EAAC;EACVA,MAAAA,IAAI,GAAGQ,IAAI,CAAA;EACb,KAAA;;EACA,IAAA,IAAIT,aAAa,EAAE;QACjBS,IAAI,CAACF,MAAM,GAAGP,aAAa,CAAA;EAC3BA,MAAAA,aAAa,CAACM,QAAQ,CAAC5C,IAAI,CAAC+C,IAAI,CAAC,CAAA;EACnC,KAAA;EACAV,IAAAA,KAAK,CAACrC,IAAI,CAAC+C,IAAI,CAAC,CAAA;MAChBT,aAAa,GAAGS,IAAI,CAAE;EACxB,GAAA;;IACA,SAASC,KAAKA,CAACC,IAAI,EAAE;MACnBA,IAAI,GAAGA,IAAI,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;EAC9BD,IAAAA,IAAI,IAAIX,aAAa,CAACM,QAAQ,CAAC5C,IAAI,CAAC;EAClC2C,MAAAA,IAAI,EAAEP,SAAS;EACfa,MAAAA,IAAI,EAAJA,IAAI;EACJJ,MAAAA,MAAM,EAAEP,aAAAA;EACV,KAAC,CAAC,CAAA;EACJ,GAAA;IACA,SAASa,GAAGA,CAACV,GAAG,EAAE;EAChBJ,IAAAA,KAAK,CAACe,GAAG,EAAE,CAAC;MACZd,aAAa,GAAGD,KAAK,CAACA,KAAK,CAAC7D,MAAM,GAAG,CAAC,CAAC,CAAA;EACzC,GAAA;IACA,SAAS6E,OAAOA,CAAC7E,MAAM,EAAE;EACvB0D,IAAAA,IAAI,GAAGA,IAAI,CAACoB,SAAS,CAAC9E,MAAM,CAAC,CAAA;EAC/B,GAAA;IACA,SAAS+E,aAAaA,GAAG;EACvB,IAAA,IAAMT,KAAK,GAAGZ,IAAI,CAACsB,KAAK,CAAC5B,YAAY,CAAC,CAAA;EACtC,IAAA,IAAIkB,KAAK,EAAE;EACT,MAAA,IAAMU,KAAK,GAAG;EACZC,QAAAA,OAAO,EAAEX,KAAK,CAAC,CAAC,CAAC;EAAE;EACnBJ,QAAAA,KAAK,EAAE,EAAA;SACR,CAAA;EACDW,MAAAA,OAAO,CAACP,KAAK,CAAC,CAAC,CAAC,CAACtE,MAAM,CAAC,CAAA;EACxB;QACA,IAAIkF,IAAI,EAAEP,IAAG,CAAA;QACb,OAAO,EAAEA,IAAG,GAAGjB,IAAI,CAACsB,KAAK,CAACxB,aAAa,CAAC,CAAC,EAAE;EACzC0B,QAAAA,IAAI,GAAGxB,IAAI,CAACsB,KAAK,CAACzB,SAAS,CAAC,CAAA;EAC5ByB,QAAAA,KAAK,CAACd,KAAK,CAAC1C,IAAI,CAAC;EAAE2D,UAAAA,IAAI,EAAED,IAAI,CAAC,CAAC,CAAC;EAAEhE,UAAAA,KAAK,EAAEgE,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAI,IAAA;EAAK,SAAC,CAAC,CAAA;EACjFL,QAAAA,OAAO,CAACK,IAAI,CAAC,CAAC,CAAC,CAAClF,MAAM,CAAC,CAAA;EACzB,OAAA;EACA,MAAA,IAAI2E,IAAG,EAAE;EACPE,QAAAA,OAAO,CAACF,IAAG,CAAC,CAAC,CAAC,CAAC3E,MAAM,CAAC,CAAA;EACxB,OAAA;EACA,MAAA,OAAOgF,KAAK,CAAA;EACd,KAAA;EACA,IAAA,OAAO,KAAK,CAAA;EACd,GAAA;EACA,EAAA,OAAOtB,IAAI,EAAE;EACX;EACA,IAAA,IAAI0B,OAAO,GAAG1B,IAAI,CAAC2B,OAAO,CAAC,GAAG,CAAC,CAAA;MAC/B,IAAID,OAAO,IAAI,CAAC,EAAE;EAChB,MAAA,IAAME,aAAa,GAAGP,aAAa,EAAE,CAAA;EACrC,MAAA,IAAIO,aAAa,EAAE;UACjBhB,KAAK,CAACgB,aAAa,CAACL,OAAO,EAAEK,aAAa,CAACpB,KAAK,CAAC,CAAA;EACjD,QAAA,SAAA;EACF,OAAA;EACA,MAAA,IAAIqB,WAAW,GAAG7B,IAAI,CAACsB,KAAK,CAAC1B,MAAM,CAAC,CAAA;EACpC,MAAA,IAAIiC,WAAW,EAAE;EACfV,QAAAA,OAAO,CAACU,WAAW,CAAC,CAAC,CAAC,CAACvF,MAAM,CAAC,CAAA;EAC9B2E,QAAAA,GAAG,CAACY,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;EACnB,QAAA,SAAA;EACF,OAAA;EACF,KAAA;MACA,IAAIH,OAAO,GAAG,CAAC,EAAE;QACf,IAAIX,IAAI,GAAGf,IAAI,CAACoB,SAAS,CAAC,CAAC,EAAEM,OAAO,CAAC,CAAA;EACrC,MAAA,IAAIX,IAAI,EAAE;UACRD,KAAK,CAACC,IAAI,CAAC,CAAA;EACXI,QAAAA,OAAO,CAACJ,IAAI,CAACzE,MAAM,CAAC,CAAA;EACtB,OAAA;EACF,KAAA;EACF,GAAA;EACA,EAAA,OAAO+D,IAAI,CAAA;EACb;;ECrGA,IAAMyB,YAAY,GAAG,0BAA0B,CAAA;EAE/C,SAASC,QAAQA,CAACvB,KAAK,EAAE;IACvB,IAAIwB,GAAG,GAAG,EAAE,CAAA;IAAA,IAAAC,KAAA,GAAAA,SAAAA,KAAAA,GAC2B;EACrC,IAAA,IAAIT,IAAI,GAAGhB,KAAK,CAAC0B,CAAC,CAAC,CAAA;EACnB,IAAA,IAAIV,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;QACzB,IAAIU,GAAG,GAAG,EAAE,CAAA;EACZX,MAAAA,IAAI,CAAChE,KAAK,CAAC4E,KAAK,CAAC,GAAG,CAAC,CAACnG,OAAO,CAAC,UAAAyC,IAAI,EAAI;EACpC,QAAA,IAAA2D,WAAA,GAAmB3D,IAAI,CAAC0D,KAAK,CAAC,GAAG,CAAC;YAAAE,YAAA,GAAAC,cAAA,CAAAF,WAAA,EAAA,CAAA,CAAA;EAA7B9E,UAAAA,GAAG,GAAA+E,YAAA,CAAA,CAAA,CAAA;EAAE9E,UAAAA,KAAK,GAAA8E,YAAA,CAAA,CAAA,CAAA,CAAA;EACfH,QAAAA,GAAG,CAAC5E,GAAG,CAAC,GAAGC,KAAK,CAAA;EAClB,OAAC,CAAC,CAAA;QACFgE,IAAI,CAAChE,KAAK,GAAG2E,GAAG,CAAA;EAClB,KAAA;EACAH,IAAAA,GAAG,OAAApF,MAAA,CAAO4E,IAAI,CAACC,IAAI,EAAA7E,GAAAA,CAAAA,CAAAA,MAAA,CAAI4F,IAAI,CAACC,SAAS,CAACjB,IAAI,CAAChE,KAAK,CAAC,EAAG,GAAA,CAAA,CAAA;KACrD,CAAA;EAXD,EAAA,KAAK,IAAI0E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1B,KAAK,CAAClE,MAAM,EAAE4F,CAAC,EAAE,EAAA;MAAAD,KAAA,EAAA,CAAA;EAAA,GAAA;IAYrC,OAAArF,GAAAA,CAAAA,MAAA,CAAWoF,GAAG,CAACU,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAA,GAAA,CAAA,CAAA;EAC7B,CAAA;EAEA,SAASC,GAAGA,CAAC9B,IAAI,EAAE;EACjB,EAAA,IAAIA,IAAI,CAACJ,IAAI,KAAK,CAAC,EAAE;MACnB,OAAOmC,OAAO,CAAC/B,IAAI,CAAC,CAAA;EACtB,GAAC,MAAM;EACL,IAAA,IAAIE,IAAI,GAAGF,IAAI,CAACE,IAAI,CAAA;EACpB,IAAA,IAAI,CAACe,YAAY,CAACe,IAAI,CAAC9B,IAAI,CAAC,EAAE;EAC5B,MAAA,OAAA,KAAA,CAAAnE,MAAA,CAAa4F,IAAI,CAACC,SAAS,CAAC1B,IAAI,CAAC,EAAA,GAAA,CAAA,CAAA;EACnC,KAAC,MAAM;QACL,IAAI+B,MAAM,GAAG,EAAE,CAAA;EACf,MAAA,IAAIxB,KAAK,CAAA;QACTQ,YAAY,CAACiB,SAAS,GAAG,CAAC,CAAA;QAC1B,IAAIA,SAAS,GAAG,CAAC,CAAA;QACjB,OAAOzB,KAAK,GAAGQ,YAAY,CAACkB,IAAI,CAACjC,IAAI,CAAC,EAAE;EACtC,QAAA,IAAIkC,KAAK,GAAG3B,KAAK,CAAC2B,KAAK,CAAA;UACvB,IAAIA,KAAK,GAAGF,SAAS,EAAE;EACrBD,UAAAA,MAAM,CAAChF,IAAI,CAAC0E,IAAI,CAACC,SAAS,CAAC1B,IAAI,CAAC2B,KAAK,CAACK,SAAS,EAAEE,KAAK,CAAC,CAAC,CAAC,CAAA;EAC3D,SAAA;EACAH,QAAAA,MAAM,CAAChF,IAAI,CAAAlB,KAAAA,CAAAA,MAAA,CAAO0E,KAAK,CAAC,CAAC,CAAC,CAAC4B,IAAI,EAAE,MAAG,CAAC,CAAA;UACrCH,SAAS,GAAGE,KAAK,GAAG3B,KAAK,CAAC,CAAC,CAAC,CAAChF,MAAM,CAAA;EACrC,OAAA;EACA,MAAA,IAAIyG,SAAS,GAAGhC,IAAI,CAACzE,MAAM,EAAE;EAC3BwG,QAAAA,MAAM,CAAChF,IAAI,CAAC0E,IAAI,CAACC,SAAS,CAAC1B,IAAI,CAAC2B,KAAK,CAACK,SAAS,CAAC,CAAC,CAAC,CAAA;EACpD,OAAA;EACA,MAAA,OAAA,KAAA,CAAAnG,MAAA,CAAakG,MAAM,CAACK,IAAI,CAAC,GAAG,CAAC,EAAA,GAAA,CAAA,CAAA;EAC/B,KAAA;EACF,GAAA;EACF,CAAA;EAEA,SAASC,WAAWA,CAAC1C,QAAQ,EAAE;EAE7B,EAAA,OAAOA,QAAQ,CAAC2C,GAAG,CAAC,UAAAC,KAAK,EAAA;MAAA,OAAIX,GAAG,CAACW,KAAK,CAAC,CAAA;EAAA,GAAA,CAAC,CAACH,IAAI,CAAC,GAAG,CAAC,CAAA;EACpD,CAAA;EAEA,SAASP,OAAOA,CAACW,GAAG,EAAE;EACpB,EAAA,IAAI7C,QAAQ,GAAG0C,WAAW,CAACG,GAAG,CAAC7C,QAAQ,CAAC,CAAA;EACxC,EAAA,IAAI8C,IAAI,GAAA5G,MAAAA,CAAAA,MAAA,CAAU2G,GAAG,CAAChD,GAAG,EAAA3D,IAAAA,CAAAA,CAAAA,MAAA,CAAK2G,GAAG,CAAC/C,KAAK,CAAClE,MAAM,GAAG,CAAC,GAAGyF,QAAQ,CAACwB,GAAG,CAAC/C,KAAK,CAAC,GAAG,MAAM,CAAA5D,CAAAA,MAAA,CAAG2G,GAAG,CAAC7C,QAAQ,CAACpE,MAAM,GAAAM,GAAAA,CAAAA,MAAA,CAAO8D,QAAQ,CAAA,GAAK,EAAE,EAAG,GAAA,CAAA,CAAA;EAChI,EAAA,OAAO8C,IAAI,CAAA;EACb,CAAA;EAEO,SAASC,iBAAiBA,CAACC,QAAQ,EAAE;EAC1C;EACA,EAAA,IAAIH,GAAG,GAAGxD,SAAS,CAAC2D,QAAQ,CAAC,CAAA;EAC7B;EACA,EAAA,IAAIF,IAAI,GAAGZ,OAAO,CAACW,GAAG,CAAC,CAAA;EACvBC,EAAAA,IAAI,GAAA5G,oBAAAA,CAAAA,MAAA,CAAwB4G,IAAI,EAAG,GAAA,CAAA,CAAA;EACnC,EAAA,IAAIG,MAAM,GAAG,IAAIC,QAAQ,CAACJ,IAAI,CAAC,CAAA;EAE/B,EAAA,OAAOG,MAAM,CAAA;EACf;;EClEA,IAAIzG,EAAE,GAAG,CAAC,CAAA;EAAC,IACL2G,OAAO,gBAAA,YAAA;EACX,EAAA,SAAAA,QAAY3E,EAAE,EAAE4E,EAAE,EAAEC,OAAO,EAAE;EAAA3G,IAAAA,eAAA,OAAAyG,OAAA,CAAA,CAAA;EAC3B,IAAA,IAAI,CAAC3G,EAAE,GAAGA,EAAE,EAAE,CAAA;MACd,IAAI,CAAC8G,aAAa,GAAGD,OAAO,CAAA;EAC5B,IAAA,IAAI,CAACE,MAAM,GAAGH,EAAE,CAAC;MACjB,IAAI,CAACI,IAAI,GAAG,EAAE,CAAA;EACd,IAAA,IAAI,CAACC,MAAM,GAAG,IAAIC,GAAG,EAAE,CAAA;MACvB,IAAI,CAACvF,GAAG,EAAE,CAAA;EACZ,GAAA;EAACvB,EAAAA,YAAA,CAAAuG,OAAA,EAAA,CAAA;MAAAtG,GAAA,EAAA,KAAA;MAAAC,KAAA,EACD,SAAAqB,GAAAA,GAAM;EACJ1B,MAAAA,GAAG,CAACO,MAAM,GAAG,IAAI,CAAC;QAClB,IAAI,CAACuG,MAAM,EAAE,CAAA;QACb9G,GAAG,CAACO,MAAM,GAAG,IAAI,CAAA;EACnB,KAAA;EAAC,GAAA,EAAA;MAAAH,GAAA,EAAA,QAAA;EAAAC,IAAAA,KAAA,EACD,SAAAG,MAAOiB,CAAAA,GAAG,EAAE;EACV,MAAA,IAAI1B,EAAE,GAAG0B,GAAG,CAAC1B,EAAE,CAAA;QACf,IAAI,CAAC,IAAI,CAACiH,MAAM,CAACE,GAAG,CAACnH,EAAE,CAAC,EAAE;EACxB,QAAA,IAAI,CAACgH,IAAI,CAACpG,IAAI,CAACc,GAAG,CAAC,CAAA;EACnB,QAAA,IAAI,CAACuF,MAAM,CAACG,GAAG,CAACpH,EAAE,CAAC,CAAA;EACnB0B,QAAAA,GAAG,CAAChB,MAAM,CAAC,IAAI,CAAC,CAAC;EACnB,OAAA;EACF,KAAA;EAAC,GAAA,EAAA;MAAAL,GAAA,EAAA,QAAA;MAAAC,KAAA,EACD,SAAAQ,MAAAA,GAAS;QACPuG,YAAY,CAAC,IAAI,CAAC,CAAA;EACpB,KAAA;EAAC,GAAA,EAAA;MAAAhH,GAAA,EAAA,KAAA;MAAAC,KAAA,EACD,SAAAgH,GAAAA,GAAM;EACJC,MAAAA,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAAA;QAClB,IAAI,CAAC7F,GAAG,EAAE,CAAA;EACZ,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAAgF,OAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAGH,IAAIc,KAAK,GAAG,EAAE,CAAA;EACd,IAAIN,GAAG,GAAG,EAAE,CAAA;EACZ,IAAIO,OAAO,GAAG,KAAK,CAAA;EAEnB,SAASC,mBAAmBA,GAAG;EAC7B,EAAA,IAAIC,UAAU,GAAGH,KAAK,CAACjC,KAAK,CAAC,CAAC,CAAC,CAAA;EAC/BiC,EAAAA,KAAK,GAAG,EAAE,CAAA;IACVN,GAAG,GAAG,EAAE,CAAA;EACRO,EAAAA,OAAO,GAAG,KAAK,CAAA;EACfE,EAAAA,UAAU,CAAC7I,OAAO,CAAC,UAAA8I,CAAC,EAAA;EAAA,IAAA,OAAIA,CAAC,CAACP,GAAG,EAAE,CAAA;KAAC,CAAA,CAAA;EAClC,CAAA;EACA,SAASD,YAAYA,CAAC1G,OAAO,EAAE;EAC7B,EAAA,IAAMX,EAAE,GAAGW,OAAO,CAACX,EAAE,CAAA;EACrB,EAAA,IAAI,CAACmH,GAAG,CAACnH,EAAE,CAAC,EAAE;EACZyH,IAAAA,KAAK,CAAC7G,IAAI,CAACD,OAAO,CAAC,CAAA;EACnBwG,IAAAA,GAAG,CAACnH,EAAE,CAAC,GAAG,IAAI,CAAA;MACd,IAAI,CAAC0H,OAAO,EAAE;EACZI,MAAAA,QAAQ,CAACH,mBAAsB,CAAC,CAAA;EAChCD,MAAAA,OAAO,GAAG,IAAI,CAAA;EAChB,KAAA;EACF,GAAA;EACF,CAAA;EAGA,IAAIK,SAAS,GAAG,EAAE,CAAA;EAClB,IAAIC,OAAO,GAAG,KAAK,CAAA;EACnB,SAASC,cAAcA,GAAG;EACxB,EAAA,IAAIC,GAAG,GAAGH,SAAS,CAACvC,KAAK,CAAC,CAAC,CAAC,CAAA;EAC5BwC,EAAAA,OAAO,GAAG,KAAK,CAAA;EACfD,EAAAA,SAAS,GAAG,EAAE,CAAA;EACdG,EAAAA,GAAG,CAACnJ,OAAO,CAAC,UAAAoJ,EAAE,EAAA;MAAA,OAAIA,EAAE,EAAE,CAAA;KAAC,CAAA,CAAA;EACzB,CAAA;EAEA,IAAIC,SAAS,CAAA;EACb,IAAIC,OAAO,EAAE;IACXD,SAAS,GAAG,SAAAA,SAAAA,GAAM;MAChBC,OAAO,CAACC,OAAO,EAAE,CAACC,IAAI,CAACN,cAAc,CAAC,CAAA;KACvC,CAAA;EACH,CAAC,MAAM,IAAIO,gBAAgB,EAAE;EAC3B,EAAA,IAAIC,QAAQ,GAAG,IAAID,gBAAgB,CAACP,cAAc,CAAC,CAAA;EACnD,EAAA,IAAIS,QAAQ,GAAGC,QAAQ,CAACC,cAAc,EAAE,CAAA;EACxCH,EAAAA,QAAQ,CAAChH,OAAO,CAACiH,QAAQ,EAAE;EACzBG,IAAAA,aAAa,EAAE,IAAA;EACjB,GAAC,CAAC,CAAA;IACFT,SAAS,GAAG,SAAAA,SAAAA,GAAM;MAChBM,QAAQ,CAACI,WAAW,GAAG,CAAC,CAAA;KACzB,CAAA;EACH,CAAC,MAAM,IAAIC,YAAY,EAAE;IACvBX,SAAS,GAAG,SAAAA,SAAAA,GAAM;MAChBW,YAAY,CAACd,cAAc,CAAC,CAAA;KAC7B,CAAA;EACH,CAAC,MAAM;IACLG,SAAS,GAAG,SAAAA,SAAAA,GAAM;MAChBY,UAAU,CAACf,cAAc,CAAC,CAAA;KAC3B,CAAA;EACH,CAAA;EAGO,SAASH,QAAQA,CAACK,EAAE,EAAE;EAC3BJ,EAAAA,SAAS,CAACnH,IAAI,CAACuH,EAAE,CAAC,CAAA;IAClB,IAAI,CAACH,OAAO,EAAE;EACZI,IAAAA,SAAS,EAAE,CAAA;EACXJ,IAAAA,OAAO,GAAG,IAAI,CAAA;EAChB,GAAA;EACF;;EClGO,SAASiB,kBAAkBA,CAACjH,EAAE,EAAEqB,GAAG,EAAErC,IAAI,EAAe;IAC3D,IAAIA,IAAI,IAAI,IAAI,EAAE;MACdA,IAAI,GAAG,EAAE,CAAA;EACb,GAAA;EACA,EAAA,IAAIX,GAAG,GAAGW,IAAI,CAACX,GAAG,CAAA;EAClB,EAAA,IAAIA,GAAG,EAAE;MACL,OAAOW,IAAI,CAACX,GAAG,CAAA;EACnB,GAAA;IAAC,KAAAnB,IAAAA,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAPgDoE,QAAQ,OAAA/E,KAAA,CAAAS,IAAA,GAAAA,CAAAA,GAAAA,IAAA,WAAAI,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA,EAAA,EAAA;EAARkE,IAAAA,QAAQ,CAAAlE,IAAA,GAAAH,CAAAA,CAAAA,GAAAA,SAAA,CAAAG,IAAA,CAAA,CAAA;EAAA,GAAA;IASzD,OAAO4J,KAAK,CAAClH,EAAE,EAAEqB,GAAG,EAAEhD,GAAG,EAAEW,IAAI,EAAEwC,QAAQ,CAAC,CAAA;EAC9C,CAAA;EAEO,SAAS2F,eAAeA,CAACnH,EAAE,EAAE6B,IAAI,EAAE;EACtC,EAAA,OAAOqF,KAAK,CAAClH,EAAE,EAAEoH,SAAS,EAAEA,SAAS,EAAEA,SAAS,EAAEA,SAAS,EAAEvF,IAAI,CAAC,CAAA;EACtE,CAAA;;EAGA;EACA;EACA,SAASqF,KAAKA,CAAClH,EAAE,EAAEqB,GAAG,EAAEhD,GAAG,EAAEgJ,KAAK,EAAE7F,QAAQ,EAAEK,IAAI,EAAE;IAChD,OAAO;EACH7B,IAAAA,EAAE,EAAFA,EAAE;EAAEqB,IAAAA,GAAG,EAAHA,GAAG;EAAEhD,IAAAA,GAAG,EAAHA,GAAG;EAAEgJ,IAAAA,KAAK,EAALA,KAAK;EAAE7F,IAAAA,QAAQ,EAARA,QAAQ;EAAEK,IAAAA,IAAI,EAAJA,IAAAA;KAClC,CAAA;EACL;;ECnBA,SAASyF,SAASA,CAACJ,KAAK,EAAE;EACxB,EAAA,IAAM7F,GAAG,GAA4B6F,KAAK,CAApC7F,GAAG;MAAEgG,KAAK,GAAqBH,KAAK,CAA/BG,KAAK;MAAE7F,QAAQ,GAAW0F,KAAK,CAAxB1F,QAAQ;MAAEK,IAAI,GAAKqF,KAAK,CAAdrF,IAAI,CAAA;IAChC,IAAI7C,IAAI,GAAGqI,KAAK,CAAA;EAChB,EAAA,IAAI,OAAOhG,GAAG,KAAK,QAAQ,EAAE;MAC3B6F,KAAK,CAACK,EAAE,GAAGZ,QAAQ,CAACa,aAAa,CAACnG,GAAG,CAAC,CAAA;EACtCoG,IAAAA,UAAU,CAACP,KAAK,CAACK,EAAE,EAAEvI,IAAI,CAAC,CAAA;EAC1BwC,IAAAA,QAAQ,CAACzE,OAAO,CAAC,UAAAqH,KAAK,EAAI;QACxB8C,KAAK,CAACK,EAAE,CAACG,WAAW,CAACJ,SAAS,CAAClD,KAAK,CAAC,CAAC,CAAA;EACxC,KAAC,CAAC,CAAA;EACJ,GAAC,MAAM;MACL8C,KAAK,CAACK,EAAE,GAAGZ,QAAQ,CAACC,cAAc,CAAC/E,IAAI,CAAC,CAAA;EAC1C,GAAA;IACA,OAAOqF,KAAK,CAACK,EAAE,CAAA;EACjB,CAAA;EAEA,SAASE,UAAUA,CAACF,EAAE,EAAEF,KAAK,EAAE;EAC7B,EAAA,KAAK,IAAIhJ,GAAG,IAAIgJ,KAAK,EAAE;MACrB,IAAIhJ,GAAG,KAAK,OAAO,EAAE;EACnB,MAAA,KAAK,IAAIsJ,SAAS,IAAIN,KAAK,CAACO,KAAK,EAAE;UACjCL,EAAE,CAACK,KAAK,CAACD,SAAS,CAAC,GAAGN,KAAK,CAACO,KAAK,CAACD,SAAS,CAAC,CAAA;EAC9C,OAAA;EACF,KAAC,MAAM;QACLJ,EAAE,CAACM,YAAY,CAACxJ,GAAG,EAAEgJ,KAAK,CAAChJ,GAAG,CAAC,CAAC,CAAA;EAClC,KAAA;EACF,GAAA;EACF,CAAA;EAEA,SAASyJ,KAAKA,CAACC,QAAQ,EAAEb,KAAK,EAAE;EAC9B,EAAA,IAAMc,aAAa,GAAGD,QAAQ,CAACE,QAAQ,CAAA;EACvC,EAAA,IAAID,aAAa,EAAE;EACjB,IAAA,IAAME,GAAG,GAAGH,QAAQ,CAAC;EACrB,IAAA,IAAMI,SAAS,GAAGD,GAAG,CAACE,UAAU,CAAC;EACjC,IAAA,IAAIC,MAAM,GAAGf,SAAS,CAACJ,KAAK,CAAC,CAAA;MAC7BiB,SAAS,CAACG,YAAY,CAACD,MAAM,EAAEH,GAAG,CAACK,WAAW,CAAC,CAAA;EAC/CJ,IAAAA,SAAS,CAACK,WAAW,CAACN,GAAG,CAAC,CAAA;EAC1B,IAAA,OAAOG,MAAM,CAAA;EACf,GAAA;EACF,CAAA;EAEO,SAASI,aAAaA,CAACC,GAAG,EAAE;EACjCA,EAAAA,GAAG,CAAChM,SAAS,CAACiM,OAAO,GAAG,UAAUzB,KAAK,EAAE;EACvC,IAAA,IAAMK,EAAE,GAAG,IAAI,CAACqB,GAAG,CAAA;MACnB,IAAI,CAACA,GAAG,GAAGd,KAAK,CAACP,EAAE,EAAEL,KAAK,CAAC,CAAA;KAC5B,CAAA;EACDwB,EAAAA,GAAG,CAAChM,SAAS,CAACmM,OAAO,GAAG,YAAY;MAClC,OAAO,IAAI,CAAC3I,QAAQ,CAACuE,MAAM,CAACjH,IAAI,CAAC,IAAI,CAAC,CAAA;KACvC,CAAA;;EACDkL,EAAAA,GAAG,CAAChM,SAAS,CAACoM,EAAE,GAAG,UAAUxK,KAAK,EAAE;EAClC,IAAA,IAAIwB,OAAA,CAAOxB,KAAK,MAAK,QAAQ,EAAE,OAAOA,KAAK,CAAA;EAC3C,IAAA,OAAOgF,IAAI,CAACC,SAAS,CAACjF,KAAK,CAAC,CAAA;KAC7B,CAAA;EACDoK,EAAAA,GAAG,CAAChM,SAAS,CAACqM,EAAE,GAAG,YAAY;EAC7B,IAAA,OAAO9B,kBAAkB,CAAAxJ,KAAA,CAAC,KAAA,CAAA,EAAA,CAAA,IAAI,EAAAC,MAAA,CAAAjB,KAAA,CAAAC,SAAA,CAAA8G,KAAA,CAAAhG,IAAA,CAAKL,SAAS,CAAC,CAAA,CAAA,CAAA;KAC9C,CAAA;EACDuL,EAAAA,GAAG,CAAChM,SAAS,CAACsM,EAAE,GAAG,YAAY;EAC7B,IAAA,OAAO7B,eAAe,CAAA1J,KAAA,CAAC,KAAA,CAAA,EAAA,CAAA,IAAI,EAAAC,MAAA,CAAAjB,KAAA,CAAAC,SAAA,CAAA8G,KAAA,CAAAhG,IAAA,CAAKL,SAAS,CAAC,CAAA,CAAA,CAAA;KAC3C,CAAA;EACH,CAAA;;EAEA;EACA;;EAEA;EACA;EACO,SAAS8L,cAAcA,CAACjJ,EAAE,EAAEuH,EAAE,EAAE;IACrCvH,EAAE,CAAC4I,GAAG,GAAGrB,EAAE,CAAA;EACX;EACA,EAAA,IAAM2B,eAAe,GAAG,SAAlBA,eAAeA,GAAS;MAC5BlJ,EAAE,CAAC2I,OAAO,CAAC3I,EAAE,CAAC6I,OAAO,EAAE,CAAC,CAAA;KACzB,CAAA;IAED,IAAMlK,OAAO,GAAG,IAAIgG,OAAO,CAAC3E,EAAE,EAAEkJ,eAAe,EAAE,IAAI,CAAC,CAAA;EACtD3D,EAAAA,OAAO,CAACC,GAAG,CAAC7G,OAAO,CAAC,CAAA;EACpB;;EAEA;EACF;;EC7EO,SAASwK,SAASA,CAACT,GAAG,EAAE;EAC7BA,EAAAA,GAAG,CAAChM,SAAS,CAAC0M,KAAK,GAAG,UAAUvE,OAAO,EAAE;MACvC,IAAM7E,EAAE,GAAG,IAAI,CAAA;MACfA,EAAE,CAACE,QAAQ,GAAG2E,OAAO,CAAA;MACrB9E,SAAS,CAACC,EAAE,CAAC,CAAA;MACb,IAAI6E,OAAO,CAAC0C,EAAE,EAAE;EACdvH,MAAAA,EAAE,CAACqJ,MAAM,CAACxE,OAAO,CAAC0C,EAAE,CAAC,CAAA;EACvB,KAAA;KACD,CAAA;EACDmB,EAAAA,GAAG,CAAChM,SAAS,CAAC2M,MAAM,GAAG,UAAU9B,EAAE,EAAE;MACnC,IAAMvH,EAAE,GAAG,IAAI,CAAA;EACfuH,IAAAA,EAAE,GAAGZ,QAAQ,CAAC2C,aAAa,CAAC/B,EAAE,CAAC,CAAA;EAC/B,IAAA,IAAItH,IAAI,GAAGD,EAAE,CAACE,QAAQ,CAAA;EACtB,IAAA,IAAI,CAACD,IAAI,CAACwE,MAAM,EAAE;EAAC;EACjB,MAAA,IAAID,QAAQ,CAAA;EACZ,MAAA,IAAI+C,EAAE,EAAE;UACN,IAAItH,IAAI,CAACuE,QAAQ,EAAE;EACjBA,UAAAA,QAAQ,GAAGvE,IAAI,CAACuE,QAAQ,CAAC;EAC3B,SAAC,MAAM;YACLA,QAAQ,GAAG+C,EAAE,CAACgC,SAAS,CAAA;EACzB,SAAA;EACF,OAAA;EAEA,MAAA,IAAI/E,QAAQ,EAAE;EAAC;EACb;EACA,QAAA,IAAMC,MAAM,GAAGF,iBAAiB,CAACC,QAAQ,CAAC,CAAA;UAC1CvE,IAAI,CAACwE,MAAM,GAAGA,MAAM,CAAA;EACtB,OAAA;EACF,KAAA;EACAwE,IAAAA,cAAc,CAACjJ,EAAE,EAAEuH,EAAE,CAAC,CAAA;KACvB,CAAA;EACH;;EC9BA,SAASmB,GAAGA,CAAC7D,OAAO,EAAE;EACpB,EAAA,IAAI,CAACuE,KAAK,CAACvE,OAAO,CAAC,CAAA;EACrB,CAAA;EAGA6D,GAAG,CAAChM,SAAS,CAAC8M,SAAS,GAAG1D,QAAQ,CAAA;EAClC;EACAqD,SAAS,CAACT,GAAG,CAAC,CAAA;EACdD,aAAa,CAACC,GAAG,CAAC;;;;;;;;"}